(function(){this.Remetric||(this.Remetric={});Remetric.domain="https://secure.remetric.com";Remetric.publishable_key=false;Remetric.debug=false;Remetric.log=function(e){if(Remetric.debug){return console.log(e)}};Remetric.detectPushes=function(){this._RM||(this._RM=[]);return _RM.push=function(e){var t;t=Array.prototype.push.call(this,e);Remetric.log("Remetric has received a(n) "+e[0]+" event.");setTimeout(Remetric.parseEvents,20);return t}};Remetric.parseEvents=function(){var e,t,n;for(t=0,n=_RM.length;t<n;t++){e=_RM[t];e=_RM.shift();if(e[0]==="domain"){Remetric.domain=e[1];Remetric.log("Remetric domain is set to "+Remetric.domain+".")}else if(e[0]==="track"){Remetric.log('Remetric has tracked "'+e[1]+'".');Remetric.track(e[1],e[2])}else if(e[0]==="api_key"){Remetric.publishable_key=e[1];Remetric.log("Remetric API Key is set to "+Remetric.publishable_key+".")}else if(e[0]==="debug"){Remetric.debug=true;Remetric.log("Remetric is set to debug mode.")}}return Remetric.detectPushes()};Remetric.track=function(e){var t,n,r;n=document.createElement("img");n.style.display="none";r=e;r["publishable_key"]=Remetric.publishable_key;t=encodeURIComponent(btoa(JSON.stringify(r)));n.src=""+Remetric.domain+"/track/img/"+t;return document.body.appendChild(n)};Remetric.parseEvents()}).call(this)